<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>chrysalis</title>
    
    <link rel="stylesheet" type="text/css" href="style.css">
    
    <style>
      /* Additional CSS styles can be added here if needed */
      .cover {
        overflow: hidden;
        display: flex;
        margin-bottom: 1rem; /* 조절할 여백 값 */
      }

      .cover p {
        white-space: nowrap;
        padding: 0.5rem 0;
        font-size: 1rem;
        letter-spacing: 0.001em;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div class="cover">
      <p class="first-parallel"></p>
    </div>
    <div class="cover">
      <p class="second-parallel"></p>
    </div>
    <div class="cover">
        <p class="third-parallel"></p>

    <script>
      const pTag1 = document.querySelector('.first-parallel')
      const pTag2 = document.querySelector('.second-parallel')
      const pTag3 = document.querySelector('.third-parallel')

      const textArr1 = '빈 껍데기 장식 방지 - 글자장식의 본질 및 활용 연구를 시작하게 된 계기는 단순하다. 작업자는 알맹이없이 껍데기만 치장하는 작업들에 지쳤으나, 작자 또한 애벌레가 이미 죽은 번데기를 치장하는 행위를 답습하고 있다는 것을 깨달았다.'.split(' ')
      const textArr2 = '타인을 꾀어내기 위해 꾸며내는 과정에서 종종 번데기 안에 애벌레가 아닌 올챙이가 자라기도 한다. 작업을 진행하면서 글자장식에 대한 리서치가 감상자와 작업자를 기만하는 맥거핀으로 기능하지 않도록 공을 들였다. '.split(' ')
      const textArr3 = "I LOVE 번데기 though ... 우리 근사한 껍데기를 둘러도 알맹이는 꽉 찬 디자이너가 되자 >.< I LOVE 번데기 though ... 우리 근사한 껍데기를 둘러도 알맹이는 꽉 찬 디자이너가 되자 >.< ".split(' ')

      let count1 = 0
      let count2 = 0
      let count3 = 0
     

      initTexts(pTag1, textArr1)
      initTexts(pTag2, textArr2)
      initTexts(pTag3, textArr3)
      

      function initTexts(element, textArray) {
        textArray.push(...textArray)
        for (let i = 0; i < textArray.length; i++) {
          element.innerText += `${textArray[i]}\u00A0\u00A0\u00A0\u00A0`
        }
      }

      function marqueeText(count, element, direction) {
        if (count > element.scrollWidth / 2) {
          element.style.transform = `translate3d(0, 0, 0)`
          count = 0
        }
        element.style.transform = `translate3d(${direction * count}px, 0, 0)`

        return count
      }

      function animate() {
        count1++
        count2++
        count3++

        count1 = marqueeText(count1, pTag1, -1)
        count2 = marqueeText(count2, pTag2, 1)
        count3 = marqueeText(count3, pTag3, -1)

        window.requestAnimationFrame(animate)
      }

      function scrollHandler() {
        count1 += 15
        count2 += 15
        count3 += 15
      }

      window.addEventListener('scroll', scrollHandler)
      animate()
    </script>
  </body>

  
</html>
